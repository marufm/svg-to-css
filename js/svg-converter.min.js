$("document").ready(function(){svgconverter.init()});var svgconverter={svgs:{svg_ids:[],svg_data:[],add_svg:function(){}},init:function(){window.File&&window.FileReader&&window.FileList&&window.Blob||alert("The File APIs are not fully supported in this browser."),jQuery.event.props.push("dataTransfer");var e=$("body");e.bind("dragover",function(e){return e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy",$(this).addClass("over"),!1}),e.bind("dragleave",function(){return $(this).removeClass("over"),!1}),e.bind("drop",function(e){e.stopPropagation(),e.preventDefault(),$(this).removeClass("over");for(var a,n=e.dataTransfer.files,s=0;a=n[s];s++)if(a.type.match("image/svg")){var t=new FileReader;t.onload=function(e){return function(a){var n=e.name.substr(0,e.name.lastIndexOf("."));svgconverter.make_svg_element(a.target.result,n)}}(a),t.readAsText(a)}}),$("#options-form").on("submit",function(e){e.preventDefault();var a=$(this).serializeArray(),n="",s="";switch(jQuery.each(a,function(e,a){"encoding"===a.name&&(n=a.value),"format"===a.name&&(s=a.value)}),n){case"utf8":console.log("Making utf8 encoded code");break;case"uri":console.log("Making uri encoded code");break;case"b64":console.log("Making base64 encoded code")}switch(s){case"css":console.log("in css ");break;case"scss":console.log("in scss")}})},make_svg_element:function(e,a){var n=$("<div />",{id:a});n.data("raw_svg_data",e),n.data("file_name",a),post_svg_data=encodeURIComponent(e),post_svg_data=post_svg_data.replace(/\(/g,"%28").replace(/\)/g,"%29");var s=$("#"+a);if(0==s.length){var t=$("<div />",{"class":"svg-icon"});t.css(svgconverter.create_css_str(post_svg_data));var o=$('<a title="Remove Icon" class="remove-icon" href="#!"></a>').click(function(){$(this).parent().parent().remove()}),r=$('<div class="filename"><p>'+a+"</p></div>");t.appendTo(n),r.appendTo(n),o.appendTo(n),n.appendTo("#data")}else $("#"+a+".svg-icon").css(svgconverter.create_css_str(post_svg_data))},createIconDom:function(e,a){var n=$('<div id="'+a+'" class="icon-info"/>');icon.append(button),icon.append(fname),n.append(icon),$("#data").append(n)},updateDomIcon:function(e,a){$("#"+a+" .svg-icon").css(this.create_css_str(e)),$("#"+a+" input").attr("value",e)},create_css_str:function(e){return{"background-image":'url("data:image/svg+xml,'+e+'")'}},spitOutCss:function(){},getCssOptions:function(){}};